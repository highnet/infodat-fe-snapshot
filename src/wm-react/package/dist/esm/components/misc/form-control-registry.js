/* @copyright Stadt Wien - Wiener Melange 200 */
class e{constructor(){this._controls=new WeakMap,this._controlOrder=new Set}register(e){if(!e||"object"!=typeof e)return!1;try{return this._controls.set(e,{initialValue:this._getElementValue(e),registered:(new Date).getTime()}),this._controlOrder.add(e),!0}catch(e){return console.error("Error registering form control:",e),!1}}unregister(e){if(e)try{this._controls.delete(e),this._controlOrder.delete(e)}catch(e){console.error("Error unregistering form control:",e)}}resetAll(){this._controlOrder.forEach((e=>{try{"function"==typeof e.reset?e.reset():"function"==typeof e.formResetCallback&&e.formResetCallback()}catch(e){console.error("Error resetting form control:",e)}}))}validateAll(){const e=[];return this._controlOrder.forEach((r=>{try{if(r.disabled||r.hasAttribute("disabled"))return;if("function"==typeof r.checkValidity){const t=r.checkValidity();t&&e.push({element:r,message:t,id:r.id||"",name:r.name||""})}}catch(e){console.error("Error validating form control:",e)}})),e}_getElementValue(e){return e?"value"in e?Array.isArray(e.value)?[...e.value]:e.value:e.hasAttribute("value")?e.getAttribute("value"):"":""}}export{e as FormControlRegistry};
